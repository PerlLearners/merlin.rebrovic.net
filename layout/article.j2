{% extends "base.j2" %}

{% block blog_post %}
<article class="reading-block">

<h1>{{ resource.meta.title }}</h1>
<p class="post-meta">
    Posted on
    <time datetime="{{ resource.meta.created.strftime('%Y-%m-%d') }}">
    {{ resource.meta.created.strftime('%Y-%m-%d') }}
    </time> in
    <span>{{ resource.meta.category }}</span>
</p>

{% filter markdown|typogrify -%}
    {% mark article_content -%}
    {% block article_content %}{% endblock %}
    {%- endmark %}
{%- endfilter %}
</article>

<hr class="reading-block">

<p class="reading-block">Read this next:<br />
{% if resource.next_by_latest is not none %}
     <a href="{{ resource.next_by_latest.full_url }}">
    {{ resource.next_by_latest.meta.title }}</a>
{% else %}
    {% set latest_post = site.content.walk_resources_sorted_by_latest()|first %}
     <a href="{{ latest_post.full_url }}">
    {{ latest_post.meta.title }}</a>
{% endif %}
</p>
{% endblock %}
